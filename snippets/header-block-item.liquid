{% liquid 
  if settings.lang_direction contains request.locale.iso_code
    assign is_rtl = true
    assign class_image_ratio = "w-8 h-8 ml-4"
  else
    assign is_rtl = false
    assign class_image_ratio = "w-8 h-8 mr-4"
  endif
%} 
{%- case type_menu -%}
  {%- when 'tabbed_menu' -%}
    {%- liquid
      assign image_count = 0
      if block.settings.image_1 != blank
        assign image_count = image_count | plus: 1
      endif
      if block.settings.image_2 != blank
        assign image_count = image_count | plus: 1
      endif
      if block.settings.image_3 != blank
        assign image_count = image_count | plus: 1
      endif

      if image_count > 0
        assign class_image_width = 'w-1/5'
        assign class_menu = 'w-3/4 2xl:w-3/5 grid-cols-3'
        if block.settings.promotion_layout == 'horizontal'
          assign class_image_width = 'w-1/5'
          if image_count == 2
            assign class_image_width = 'w-1/2'
            assign class_menu = 'w-1/2 2xl:w-5/12 grid-cols-2'
          endif
          if image_count == 3
            assign class_image_width = 'w-7/12'
            assign class_menu = 'w-5/12 2xl:w-[38.75%] grid-cols-2'
          endif
        endif
      else
        assign class_menu = 'grid-cols-4'
      endif
    -%}
    <div class="toggle-menu background-header mega-menu-{{ block.settings.tab_style }}{% if image_count > 0 %} main-nav-child-{{ block.settings.promotion_position }}{% endif %} max-h-0 transition-all duration-300 delay-150 ease-in-out is-focus:text-[rgba(var(--colors-text))] absolute w-full background-header left-0 z-50 shadow-md opacity-0 overflow-hidden ltr">
      <div class="mega-menu-container page-width mx-auto promotion-{{ block.settings.promotion_layout }} image-count-{{ image_count }}{% if block.settings.tab_style == 'vertical'%} md:max-h-[80vh]{% endif %}">
        <div class="mega-nav mt-12{% if block.settings.tab_style == 'vertical' %} relative{% if is_rtl %} rtl{% endif %}{% endif %}">
         <ul class="mega-list-nav flex-wrap px-4{% if block.settings.tab_style == 'vertical'%}{% unless image_count > 0 %} w-72{% endunless %} md:max-h-[calc(80vh-3rem)] md:overflow-y-scroll scrollbar-body scrollbar-visible{% endif %}{% if is_rtl %} rtl justify-start{% endif %}" x-refs="mega_nav"> 
            {%- for link in block.settings.menu.links -%}
              <li
                class="table{% if link.links != blank %} has-dropdown{% endif %}"
                x-on:mouseover="$store.xHeaderMenu.selectItem($el, true); $el.classList.add('is-focus-child');"
                @mouseleave="$el.classList.remove('is-focus-child');"
                @focusin="$store.xHeaderMenu.selectItem($el, true); $el.classList.add('is-focus-child');"
                @focusout="$el.classList.remove('is-focus-child');"
                {%- if link.current or link.child_active %}x-init="active = true;"{% endif %}
              >
                <div class="sub-menu flex items-end z-10 relative{% if block.settings.tab_style == 'vertical' %} mb-2 w-[15.6rem] pb-1{% if forloop.first %} pt-3 border-t{% else %} pt-1{% endif %}{% else %} w-[13rem] pt-1.5 pb-1.5{% endif %}{% if is_rtl %} rtl{% endif %}">
                  {%- render 'menu-item-image', link: link, show_image_collection: block.settings.show_image_collection, show_first_image_product: block.settings.show_first_image_product, class_ratio: class_image_ratio, image_left: true, collection_metafield: block.settings.collection_metafield -%}
                  <span class="flex-1">
                    <a
                      href="{{ link.url }}"
                      class="nav-link p-break-words relative z-10 border-b pb-3 flex items-center{% if link.links != blank %}{% if is_rtl %} pl-5{% else %} pr-5{% endif %}{% endif %} hover-text-link is-focus-child:effect-inline{%- if link.current or link.child_active %} flex effect-inline{% if block.settings.tab_style != 'horizontal' %} border-b{% endif %}{% endif %}"
                      x-init="$store.xHeaderMenu.isTouch && $store.xHeaderMenu.touchItem($el, true)"
                    >
                      <span class="p-break-words">{{ link.title | escape }}</span>
                      {%- if link.links != blank -%}
                        <span class="z-10 w-5 h-4 p-1 rounded-full block absolute{% if block.settings.tab_style != 'horizontal' %}{% if is_rtl %} rotate-90 left-1.5{% else %} -rotate-90 right-1.5{% endif %}{% else %}{% if is_rtl %} left-0{% else %} right-0{% endif %}{% endif %}">
                          {% render 'icon-alls', icon: 'icon-caret' %}
                        </span>
                      {%- endif -%}
                    </a>
                  </span>
                </div>
                {% liquid
                  assign column = 4
                  if block.settings.promotion_layout == 'vertical'
                    if link.links.size < 4 and block.settings.tab_style == 'vertical'
                      if link.links.size > 1
                        assign column = link.links.size
                      else
                        assign column = 2
                      endif
                    endif
                    assign class_menu = 'w-full grid-cols-' | append: column
                    if image_count > 0
                      if block.settings.tab_style == 'vertical'
                        assign class_menu = 'w-3/4 2xl:w-[62%] grid-cols-' | append: column
                      else 
                        assign class_menu = 'grid-cols-4 w-4/5'
                      endif 
                    endif
                  endif
                  if block.settings.tab_style == 'vertical'
                    assign class_menu = class_menu | remove: 'w-3/4 ' | remove: '2xl:w-3/5 ' | remove: 'w-1/2 2xl:w-5/12 ' | remove: 'w-5/12 2xl:w-[38.75%] ' | remove: '2xl:w-[62%] ' | remove: 'w-4/5 ' | append: ' w-full'
                  endif
                  assign class_menu_postion = ' left-72 rtl:right-72'
                %}
                <div class="toggle-menu-sub overflow-hidden delay-150 z-0 absolute right-0 rtl:left-0{% if block.settings.tab_style == 'horizontal' %} left-0 pt-[4.5rem] background-header pb-8{% else %}{{ class_menu_postion }} background-header top-0 pb-7 h-full max-h-[calc(80vh-3rem)]{% endif %}{% if forloop.first %} block{% else %} hidden{% endif %} ltr">   
                  <div class="relative page-width mx-auto h-full">
                    {%- if link.links != blank -%}
                      <ul class="order-2 grid gap-y-7 gap-x-7 {{ class_menu }} pr-5 rtl:pr-0 rtl:pl-5 pb-8 overflow-y-auto scrollbar-body scrollbar-visible h-full{% if block.settings.tab_style == 'horizontal' %}{% if block.settings.promotion_position == 'left' %} float-right pl-12{% else %} pr-12{% endif %}{% endif %}{% if is_rtl %} rtl{% endif %}">
                        {%- for childlink in link.links -%}
                          <li class="relative">
                            <div>
                              <a href="{{ childlink.url }}" class="nav-link relative transition duration-200 mb-2 p-break-words hover-text-link{% if childlink.current %} flex border-b effect-inline{% else %} inline-block{%- endif -%}">
                                {{ childlink.title | escape }}
                              </a>
                              {%- render 'menu-item-image', link: childlink, show_image_collection: block.settings.show_sub_image_collection, show_first_image_product: block.settings.show_sub_first_image_product, image_ratio: block.settings.image_ratio, column: column, collection_metafield: block.settings.collection_metafield -%}
                            </div>
                            {%- if childlink.links != blank -%}
                              <ul class="list-unstyled" role="list">
                                {%- for grandchildlink in childlink.links -%}
                                  <li class="flex items-center pt-1.5 pb-1.5 relative font-normal">
                                    <span class="flex-1">
                                      <a href="{{ grandchildlink.url }}" class="nav-link relative transition duration-200 p-break-words hover-text-link{% if grandchildlink.current %} flex effect-inline border-b{% else %} inline-block{% endif %}">
                                        {{ grandchildlink.title | escape }}
                                      </a>
                                    </span>
                                  </li>
                                {%- endfor -%}
                              </ul>
                            {%- endif -%}
                          </li>
                        {%- endfor -%}
                      </ul>
                    {%- endif -%}
                  </div>
                  {% if block.settings.see_more_link != blank and block.settings.see_more_title != blank %}
                    <div class="mega-sub-container relative page-width mx-auto clear-both{% if block.settings.tab_style == 'vertical' %}{% if is_rtl %} pr-[20rem]{% else %} pl-[20rem]{% endif %}{% endif %}"
                        style="padding-top: 0{% if block.settings.tab_style == 'vertical' %}{% if is_rtl %}; padding-left: 5rem{% endif %}{% endif %}"
                      >
                      <div class="mega-sub-nav pr-5 pb-8 {{ class_menu }}">
                        <div class="see-more border-t py-4 hidden md:flex justify-{{ block.settings.see_more_alignment }} ltr">
                          <a href="{{ block.settings.see_more_link }}" 
                            class="hover-text-link nav-link relative w-fit flex gap-1{% if is_rtl %} rtl{% endif %}"
                            {% if block.settings.see_more_open_new_window %} target="_blank" {% endif %}
                          >
                            {{ block.settings.see_more_title }}
                            <span class="block w-5 h-5{% if is_rtl %} rotate-180{% endif %}">{% render 'icon-alls', icon: 'icon-arrow' %}</span>
                          </a>
                        </div>
                      </div>
                    </div>
                  {% endif %}
                </div>
              </li>
            {%- endfor -%}
          </ul>
        </div>
        {%- if image_count > 0 -%}
          <div class="relative float-right md:right-5 lg:right-0 pt-8 {{ class_image_width }}"> 
            <div class="mega-nav-promotions scrollbar-body scrollbar-visible overflow-y-auto">
              {%- if block.settings.image_1 -%}
                {% style %}
                  .image-{{ block.id }}-1 {
                    height: {{ block.settings.image_height_1 }}px;
                  }
                {% endstyle %}
                {% assign blockID = block.id | append: "-1" %}
                <div class="w-full group relative{% unless block.settings.enable_text_overlay_1 %} background-color-{{ blockID }}{% endunless %}{% if block.settings.promotion_position == 'right' %} ltr{% endif %}{% if settings.edges_type == 'rounded_corners' %} rounded-[10px]{% endif %}">
                  {% render 'promotion-image',
                    blockID: blockID,
                    image: block.settings.image_1,
                    enable_text_overlay: block.settings.enable_text_overlay_1,
                    heading: block.settings.heading_1,
                    content: block.settings.text_1,
                    button_label: block.settings.button_label_1,
                    button_link: block.settings.button_link_1,
                    open_new_window: block.settings.open_new_window_button_1,
                    content_alignment: 'center',
                    full_width: false,
                    overlay_opacity: block.settings.overlay_opacity_1,
                    show_button_style: block.settings.show_button_style,
                    background_color: block.settings.background_color,
                    color_text: block.settings.color_text,
                    color_button: block.settings.color_button,
                    color_text_button: block.settings.color_text_button,
                    color_button_hover: block.settings.color_button_hover,
                    color_text_button_hover: block.settings.color_text_button_hover,
                    color_button_secondary: block.settings.color_button_secondary,
                    secondary_button_text: block.settings.secondary_button_text,
                    colors_text_link: block.settings.colors_text_link,
                    heading_size: block.settings.heading_size_1,
                    text_size: block.settings.text_size_1,
                    content_position: block.settings.content_position_1,
                    columns_desktop: 4,
                    show_in_header: true
                  %}
                </div>
              {%- endif -%} 
              {%- if block.settings.image_2 -%}
                {% style %}
                  .image-{{ block.id }}-2 {
                    height: {{ block.settings.image_height_2 }}px;
                  }
                {% endstyle %}
                {% assign blockID = block.id | append: "-2" %}
                <div class="w-full group relative{% unless block.settings.enable_text_overlay_2 %} background-color-{{ blockID }}{% endunless %}{% if block.settings.promotion_position == 'right' %} ltr{% endif %}{% if settings.edges_type == 'rounded_corners' %} rounded-[10px]{% endif %}">
                  {% render 'promotion-image',
                    blockID: blockID,
                    image: block.settings.image_2,
                    enable_text_overlay: block.settings.enable_text_overlay_2,
                    heading: block.settings.heading_2,
                    content: block.settings.text_2,
                    button_label: block.settings.button_label_2,
                    button_link: block.settings.button_link_2,
                    open_new_window: block.settings.open_new_window_button_2,
                    content_alignment: 'center',
                    full_width: false,
                    overlay_opacity: block.settings.overlay_opacity_2,
                    show_button_style: block.settings.show_button_style_2,
                    background_color: block.settings.background_color,
                    color_text: block.settings.color_text,
                    color_button: block.settings.color_button,
                    color_text_button: block.settings.color_text_button,
                    color_button_hover: block.settings.color_button_hover,
                    color_text_button_hover: block.settings.color_text_button_hover,
                    color_button_secondary: block.settings.color_button_secondary,
                    secondary_button_text: block.settings.secondary_button_text,
                    colors_text_link: block.settings.colors_text_link,
                    heading_size: block.settings.heading_size_2,
                    text_size: block.settings.text_size_2,
                    content_position: block.settings.content_position_2,
                    columns_desktop: 4,
                    show_in_header: true
                  %}
                </div>
              {%- endif -%} 
              {%- if block.settings.image_3 -%}
                {% style %}
                  .image-{{ block.id }}-3 {
                    height: {{ block.settings.image_height_3 }}px;
                  }
                {% endstyle %}
                {% assign blockID = block.id | append: "-3" %}
                <div class="w-full group relative{% unless block.settings.enable_text_overlay_3 %} background-color-{{ blockID }}{% endunless %}{% if block.settings.promotion_position == 'right' %} ltr{% endif %}{% if settings.edges_type == 'rounded_corners' %} rounded-[10px]{% endif %}">
                  {% render 'promotion-image',
                    blockID: blockID,
                    image: block.settings.image_3,
                    enable_text_overlay: block.settings.enable_text_overlay_3,
                    heading: block.settings.heading_3,
                    content: block.settings.text_3,
                    button_label: block.settings.button_label_3,
                    button_link: block.settings.button_link_3,
                    open_new_window: block.settings.open_new_window_button_3,
                    content_alignment: 'center',
                    full_width: false,
                    overlay_opacity: block.settings.overlay_opacity_3,
                    show_button_style: block.settings.show_button_style_3,
                    background_color: block.settings.background_color,
                    color_text: block.settings.color_text,
                    color_button: block.settings.color_button,
                    color_text_button: block.settings.color_text_button,
                    color_button_hover: block.settings.color_button_hover,
                    color_text_button_hover: block.settings.color_text_button_hover,
                    color_button_secondary: block.settings.color_button_secondary,
                    secondary_button_text: block.settings.secondary_button_text,
                    colors_text_link: block.settings.colors_text_link,
                    heading_size: block.settings.heading_size_3,
                    text_size: block.settings.text_size_3,
                    content_position: block.settings.content_position_3,
                    columns_desktop: 4,
                    show_in_header: true
                  %}
                </div>
              {%- endif -%} 
            </div>
          </div>
        {%- endif -%}
      </div>
    </div>
  {%- when 'tree_menu' -%}
    <ul class="pt-5 pb-5">
      {% assign level = 0 %}
      {%- for link in block.settings.menu.links -%}
        {%- liquid
          assign is_link = false
          if link.links != blank
            assign is_link = true
          endif
          if link.levels > level
            assign level = link.levels
          endif
        -%}
        <li {% if link.current or link.child_active %}x-init="active = true"{% endif %} 
          x-data="{ openSub: false }" 
          class="relative{% if is_rtl %} pr-7 pl-6{% else %} pl-7 pr-6{% endif %} font-normal" 
          @mouseover="openSub = true; $el.classList.add('is-focus-child');" 
          @mouseleave="$el.classList.remove('is-focus-child');"
          @mouseover.away="openSub = false"
          @focusin="openSub = true; $el.classList.add('is-focus-child');" 
          @focusout="openSub = false; $el.classList.remove('is-focus-child');"
        >
          <div class="sub-menu flex items-center{% unless forloop.first %} pt-3{% endunless %}">
            {%- render 'menu-item-image', link: link, show_image_collection: block.settings.show_image_collection, show_first_image_product: block.settings.show_first_image_product, class_ratio: class_image_ratio, image_left: true, collection_metafield: block.settings.collection_metafield -%}
            <span class="flex-1">
              <a href="{{ link.url }}" class="nav-link relative p-break-words{% if is_link %} flex items-center{% if is_rtl %} pl-5{% else %} pr-5{% endif %}{% else %} inline-block{% endif %} duration-200 transition hover-text-link is-focus-child:effect-inline{% if link.current or link.child_active %} flex border-b effect-inline{% endif %}">
                <span >{{ link.title | escape }}</span>
                {%- if is_link -%}
                  <span class="icon-child z-10 w-5 h-4 p-1 rounded-full block absolute -rotate-90{% if is_rtl %} left-0{% else %} right-0{% endif %}">
                    {% render 'icon-alls', icon: 'icon-caret' %}
                  </span>
                {%- endif -%}
              </a>
            </span>
          </div>
          {%- if is_link -%}
            <div class="background-header child absolute{% if forloop.first %} -top-5{% else %} -top-2{% endif %} left-full w-full shadow-showdownInset" :class="openSub ? 'opacity-1 max-h-auto' : 'opacity-0 max-h-0 overflow-hidden' ">
              <ul class="pt-5 pb-5">
                {%- for childlink in link.links -%}
                  {%- liquid
                    assign is_link = false
                    if childlink.links != blank
                      assign is_link = true
                    endif
                  -%}
                  <li class="relative{% if is_rtl %} pr-7 pl-6{% else %} pl-7 pr-6{% endif %}" 
                    x-data="{ openChild: false }" 
                    @mouseover="openChild = true; $el.classList.add('is-focus-subchild');" 
                    @mouseleave="$el.classList.remove('is-focus-subchild');"
                    @mouseover.away="openChild = false"
                    @focusin="openChild = true; $el.classList.add('is-focus-subchild');"
                    @focusout="openChild= false; $el.classList.remove('is-focus-subchild');"
                  >
                    <div class="flex items-center{% unless forloop.first %} pt-3{% endunless %}">
                      {%- render 'menu-item-image', link: childlink, show_image_collection: block.settings.show_image_collection, show_first_image_product: block.settings.show_first_image_product, class_ratio: class_image_ratio, image_left: true, collection_metafield: block.settings.collection_metafield -%}
                      <span class="flex-1">
                        <a href="{{ childlink.url }}" class="nav-link{% if is_link %} flex items-center{% if is_rtl %} pl-5{% else %} pr-5{% endif %}{% else %} inline-block{% endif %} p-break-words relative duration-200 hover-text-link transition is-focus-subchild:effect-inline{% if childlink.current or childlink.child_active %} border-b effect-inline{% endif %}">
                          <span>{{ childlink.title | escape }}</span>
                          {%- if is_link -%}
                            <span class="z-10 w-5 h-4 p-1 icon-child rounded-full block absolute -rotate-90{% if is_rtl %} left-0{% else %} right-0{% endif %}">{% render 'icon-alls', icon: 'icon-caret' %}</span>
                          {%- endif -%}
                        </a>
                      </span>
                    </div>
                    {%- if is_link -%}
                      <ul class="child absolute{% if forloop.first %} -top-5{% else %} -top-2{% endif %} w-full left-full background-header shadow-showdownInset pt-5 pb-5" x-show="openChild">
                        {%- for grandchildlink in childlink.links -%}
                          <li class="flex items-center{% if is_rtl %} pr-7 pl-6{% else %} pl-7 pr-6{% endif %} relative{% unless forloop.first %} pt-3{% endunless %}">
                            {%- render 'menu-item-image', link: grandchildlink, show_image_collection: block.settings.show_image_collection, show_first_image_product: block.settings.show_first_image_product, class_ratio: class_image_ratio, image_left: true, collection_metafield: block.settings.collection_metafield -%}
                            <span class="flex-1">
                              <a 
                                class="nav-link relative p-break-words duration-200 transition hover-text-link{% if grandchildlink.current %} flex border-b effect-inline{% else %} inline-block{% endif %}"
                                href="{{ grandchildlink.url }}" 
                                {% if grandchildlink.current %} aria-current="page"{% endif %}>
                                {{ grandchildlink.title | escape }}
                              </a>
                            </span>
                          </li>
                        {%- endfor -%}
                      </ul>
                    {%- endif -%}
                  </li>
                {%- endfor -%}
              </ul>
            </div>
          {%- endif -%}
        </li>
      {%- endfor -%}
    </ul>
  {%- when 'banner_menu' -%}
    <div class="toggle-menu max-h-0 transition-all duration-300 delay-150 ease-in-out is-focus:text-[rgba(var(--colors-text))] absolute w-full background-header left-0 z-50 shadow-md opacity-0 overflow-hidden">
      <div class="flex gap-x-8{% unless block.settings.full_width %} mx-auto page-width pb-5{% endunless %} pt-8 pb-8"> 
        {%- if block.settings.image_1 != blank -%}
          <div class="group section--{{ section.id }} w-full flex relative overflow-hidden h-[{{ block.settings.desktop_height }}]">
            {% assign blockID = block.id | append: "-1" %}
            {% render 'promotion-image',
              blockID: blockID,
              image: block.settings.image_1,
              enable_text_overlay: true,
              heading: block.settings.heading_1,
              content: block.settings.content_1,
              subheading: block.settings.subheading_1,
              button_label: block.settings.button_label_1,
              button_link: block.settings.button_link_1,
              open_new_window: block.settings.open_new_window_button_1,
              content_alignment: block.settings.text_align_1,
              full_width: block.settings.full_width,
              overlay_opacity: block.settings.overlay_opacity_1,
              show_button_style: block.settings.show_button_style_1,
              background_color: block.settings.background_color,
              color_text: block.settings.color_text,
              color_button: block.settings.color_button,
              color_text_button: block.settings.color_text_button,
              color_button_hover: block.settings.color_button_hover,
              color_text_button_hover: block.settings.color_text_button_hover,
              color_button_secondary: block.settings.color_button_secondary,
              secondary_button_text: block.settings.secondary_button_text,
              colors_text_link: block.settings.colors_text_link,
              heading_size: block.settings.heading_size_1,
              text_size: block.settings.text_size_1,
              content_position: block.settings.content_position_1,
              columns_desktop: columns_desktop,
              show_in_header: true
            %}
          </div>
        {% endif %}
        {%- if block.settings.image_2 != blank -%}
          {% assign blockID = block.id | append: "-2" %}
          <div class="group section--{{ section.id }} w-full flex relative overflow-hidden h-[{{ block.settings.desktop_height }}]">
            {% render 'promotion-image',
              blockID: blockID,
              image: block.settings.image_2,
              enable_text_overlay: true,
              heading: block.settings.heading_2,
              content: block.settings.content_2,
              subheading: block.settings.subheading_2,
              button_label: block.settings.button_label_2,
              button_link: block.settings.button_link_2,
              open_new_window: block.settings.open_new_window_button_2,
              content_alignment: block.settings.text_align_2,
              full_width: block.settings.full_width,
              overlay_opacity: block.settings.overlay_opacity_2,
              show_button_style: block.settings.show_button_style_2,
              background_color: block.settings.background_color,
              color_text: block.settings.color_text,
              color_button: block.settings.color_button,
              color_text_button: block.settings.color_text_button,
              color_button_hover: block.settings.color_button_hover,
              color_text_button_hover: block.settings.color_text_button_hover,
              color_button_secondary: block.settings.color_button_secondary,
              secondary_button_text: block.settings.secondary_button_text,
              colors_text_link: block.settings.colors_text_link,
              heading_size: block.settings.heading_size_2,
              text_size: block.settings.text_size_2,
              content_position: block.settings.content_position_2,
              columns_desktop: columns_desktop,
              show_in_header: true
            %}
          </div>
        {% endif %}
        {%- if block.settings.image_3 != blank -%}
          {% assign blockID = block.id | append: "-3" %}
          <div class="group section--{{ section.id }} w-full flex relative overflow-hidden h-[{{ block.settings.desktop_height }}]">
            {% render 'promotion-image',
              blockID: blockID,
              image: block.settings.image_3,
              enable_text_overlay: true,
              heading: block.settings.heading_3,
              content: block.settings.content_3,
              subheading: block.settings.subheading_3,
              button_label: block.settings.button_label_3,
              button_link: block.settings.button_link_3,
              open_new_window: block.settings.open_new_window_button_3,
              content_alignment: block.settings.text_align_3,
              full_width: block.settings.full_width,
              overlay_opacity: block.settings.overlay_opacity_3,
              show_button_style: block.settings.show_button_style_3,
              background_color: block.settings.background_color,
              color_text: block.settings.color_text,
              color_button: block.settings.color_button,
              color_text_button: block.settings.color_text_button,
              color_button_hover: block.settings.color_button_hover,
              color_text_button_hover: block.settings.color_text_button_hover,
              color_button_secondary: block.settings.color_button_secondary,
              secondary_button_text: block.settings.secondary_button_text,
              colors_text_link: block.settings.colors_text_link,
              heading_size: block.settings.heading_size_3,
              text_size: block.settings.text_size_3,
              content_position: block.settings.content_position_3,
              columns_desktop: columns_desktop,
              show_in_header: true
            %}
          </div>
        {% endif %}
      </div>
    </div>
  {%- when 'product_menu' -%}
    <div class="toggle-menu background-header mega-menu-{{ block.settings.tab_style }} max-h-0 transition-all duration-300 delay-150 ease-in-out is-focus:text-[rgba(var(--colors-text))] absolute w-full background-header{% if is_rtl %} right-0{% else %} left-0{% endif %} z-50 shadow-md opacity-0 overflow-hidden">
      <div class="mega-menu-container page-width mx-auto">
        <div class="mega-nav">
          <ul class="mega-list-nav items-end flex-wrap pt-12 pb-5 md:max-h-[80vh] md:overflow-y-scroll scrollbar-body scrollbar-visible"> 
            {%- for link in block.settings.menu.links -%}
              {%- liquid
                assign count = 0
                for childlink in link.links
                  if childlink.type == 'product_link'
                    assign count = count | plus: 1
                  endif
                endfor
                assign enable_slider = false
                if count > 4
                  assign enable_slider = true
                endif
              -%}
              <li 
                class="table{% if link.links != blank %} has-dropdown{% endif %}"
                x-on:mouseover="$store.xHeaderMenu.selectItem($el, true); $el.classList.add('is-focus-child');"
                @mouseleave="$el.classList.remove('is-focus-child');"
                @focusin="$store.xHeaderMenu.selectItem($el, true); $el.classList.add('is-focus-child');"
                @focusout="$el.classList.remove('is-focus-child');"
                {%- if link.current or link.child_active %}x-init="active = true;"{% endif %}
              >
                <div class="sub-menu flex items-end z-10 relative{% if block.settings.tab_style == 'vertical' %} mb-2 w-56 pb-1{% if forloop.first %} pt-3 border-t{% else %} pt-1{% endif %}{% else %} w-[15.6rem] pt-1.5 pb-1.5{% endif %}">
                  <span class="flex-1">
                    <a
                      href="{{ link.url }}"
                      class="nav-link p-break-words relative z-10 border-b pb-3 flex items-center{% if count > 0 and link.links != blank %}{% if is_rtl %} pl-5{% else %} pr-5{% endif %}{% endif %} hover-text-link is-focus-child:effect-inline{%- if link.current or link.child_active %} flex effect-inline{% if block.settings.tab_style != 'horizontal' %} border-b{% endif %}{% endif %}"
                      x-init="$store.xHeaderMenu.isTouch && $store.xHeaderMenu.touchItem($el, true)"
                    >
                      <span class="p-break-words">{{ link.title | escape }}</span>
                      {%- if count > 0 and link.links != blank -%}
                        <span class="z-10 w-5 h-4 p-1 rounded-full block absolute{% if is_rtl %} left-0 rotate-90{% else %} right-0 -rotate-90{% endif %}">
                          {% render 'icon-alls', icon: 'icon-caret' %}
                        </span>
                      {%- endif -%}
                    </a>
                  </span>
                </div>
                {%- if count > 0 -%}
                  {% liquid 
                    assign columns_desktop = 4
                    if block.settings.tab_style == 'horizontal'
                      assign columns_desktop = 5
                    endif
                  %}
                  <div class="toggle-menu-sub pb-7 left-0 overflow-hidden delay-150 z-0 absolute right-0{% if block.settings.tab_style == 'horizontal' %} background-header{% if image_count < 1 %} top-full{% endif %}{% else %} shadow-md background-header min-h-full top-0 left-0 pl-7 xl:pr-5{% endif %}{% if forloop.first %} block{% else %} hidden{% endif %}">   
                    <div class="mega-sub-container{% if is_rtl %} pl-0{% else %} pr-0{% endif %} relative scrollbar-body scrollbar-visible ltr{% if block.settings.tab_style == 'vertical' %} {% if is_rtl %} pr-[18rem]{% else %} pl-[18rem]{% endif %}{% endif %} page-width mx-auto">
                      <div class="mega-sub-nav scrollbar-body scrollbar-visible{% if is_rtl %} pl-5{% unless enable_slider %} rtl{% endunless %}{% else %} pr-5{% endif %}">                                     
                        <div class="order-2 w-full">
                          <div 
                            id="x-product-menu-{{ block.id }}-{{ forloop.index }}"
                            {% if enable_slider %}
                              class="overflow-hidden x-splide splide w-full"
                              x-intersect='$store.xSplide.load($el, {
                                "focus": "center",
                                "perPage": {{ columns_desktop }},
                                "speed": 500,
                                "updateOnMove": "true",
                                "progressBar": {{ columns_desktop }},
                                "gap": "1.75rem",
                                "perMove": {{ columns_desktop }},
                                "pagination": false, 
                                "classes": {
                                  "pagination": "hidden"
                                }
                                {% if is_rtl %}
                                  ,"direction": "rtl"
                                {% endif %}
                              })'
                            {%- endif -%}
                          >
                            {%- if enable_slider -%}
                              <div class="splide__arrows lg:inline-flex{% if is_rtl %} mr-5{% else %} ml-5{% endif %} hidden">
                                <button class="splide__arrow splide__arrow--prev button-arrow hidden lg:block absolute top-1/2 left-0 -mt-6 p-4 rounded-full none_border z-10 w-12 h-12 after:text-[20px] rtl:-rotate-90 rtl:right-0 rtl:left-auto rotate-90 duration-200 opacity-60 hover:opacity-100 disabled:cursor-not-allowed transition-all ease-in-out rtl:lg:translate-x-full lg:-translate-x-full disabled:opacity-30" aria-label="previous slide">
                                  {% render 'icon-alls', icon: 'icon-caret' %}
                                </button>
                                <button class="splide__arrow splide__arrow--next button-arrow hidden lg:block absolute top-1/2 right-0 -mt-6 p-4 rounded-full none_border z-10 w-12 h-12 after:text-[20px] rtl:rotate-90 rtl:left-0 rtl:right-auto -rotate-90 duration-200 opacity-60 hover:opacity-100 disabled:cursor-not-allowed transition-all ease-in-out rtl:lg:-translate-x-full lg:translate-x-full disabled:opacity-30" aria-label="previous slide">
                                  {% render 'icon-alls', icon: 'icon-caret' %}
                                </button>
                              </div>
                            {%- endif -%}
                            <div class="relative{% if enable_slider %} splide__track{% endif %} overflow-hidden">
                              <div class="w-full{% if enable_slider %} splide__list flex{% else %} grid grid-cols-{{ columns_desktop }} gap-x-7{% endif %}">
                                {%- assign grid_items_count = 0  -%}
                                {%- assign menu_child_index = block.id | append: forloop.index -%}
                                {%- for childlink in link.links -%}
                                  {% if childlink.type == 'product_link' %}
                                    {%- assign  grid_items_count = grid_items_count | plus: 1 -%}
                                    {%- liquid
                                      assign card_product = childlink.object
                                      assign product_card_id = menu_child_index | append: forloop.index 
                                     -%}
                                    {% render 'card-product',
                                      card_product: card_product,
                                      section_id: section.id,
                                      class_slide: "splide__slide x-splide-slide",
                                      columns_desktop: columns_desktop,
                                      column_mobile: 1,
                                      index: forloop.index,
                                      list_name: "",
                                      collection: "",
                                      enable_desktop_slider: true,
                                      block_id: blockID,
                                      product_card_id: product_card_id,
                                      disable_quickview: true,
                                      disable_color_swatch: true
                                    %}
                                  {% endif %}
                                {%- endfor -%}
                              </div>
                            </div>
                            {%- if enable_slider -%}
                              <div class="lg:flex items-center hidden mt-5 w-3/4 ml-auto mr-auto">
                                <div class="splide-progress inline-block grow">
                                  {% liquid
                                    assign my_float = columns_desktop | times: 1.0
                                    assign widthBar = my_float | divided_by: grid_items_count 
                                  %} 
                                  <div class="splide-progress-bar" style="width: {{ widthBar | times: 100 }}%;"></div>
                                </div>
                              </div>
                            {%- endif -%}
                          </div>
                        </div>
                      </div>
                      {% if block.settings.see_more_link != blank and block.settings.see_more_title != blank %}
                        <div class="mega-sub-nav pr-5 py-4 hidden md:block">
                          <div class="border-t w-full pt-3 hidden md:flex justify-{{ block.settings.see_more_alignment }} ltr">
                            <a href="{{ block.settings.see_more_link }}" class="hover-text-link nav-link relative w-fit flex gap-1{% if is_rtl %} rtl{% endif %}"
                              {% if block.settings.see_more_open_new_window %} target="_blank" {% endif %}
                            >
                              {{ block.settings.see_more_title }}
                              <span class="block w-5 h-5{% if is_rtl %} rotate-180{% endif %}">{% render 'icon-alls', icon: 'icon-arrow' %}</span>
                            </a>
                          </div>
                        </div>
                      {% endif %}
                    </div>
                  </div>
                {% else %}
                  {% if block.settings.see_more_link != blank and block.settings.see_more_title != blank %}
                    <div class="toggle-menu-sub pb-7 left-0 overflow-hidden delay-150 z-0 absolute right-0{% if block.settings.tab_style == 'horizontal' %} background-header{% if image_count < 1 %} top-full{% endif %}{% else %} shadow-md background-header min-h-full top-0 left-0 pl-7 xl:pr-5{% endif %}{% if forloop.first %} block{% else %} hidden{% endif %}">
                      <div class="mega-sub-container relative ltr page-width mx-auto{% if block.settings.tab_style == 'vertical' %}{% if is_rtl %} pr-[18rem]{% else %} pl-[18rem]{% endif %}{% endif %}"
                        {% if block.settings.tab_style == 'vertical' %}{% if is_rtl %} style="padding-left: 5rem"{% endif %}{% endif %}
                        >
                        <div class="border-t w-full pt-3 hidden md:flex justify-{{ block.settings.see_more_alignment }} ltr">
                          <a href="{{ block.settings.see_more_link }}" class="hover-text-link nav-link relative w-fit flex gap-1{% if is_rtl %} rtl{% endif %}"
                            {% if block.settings.see_more_open_new_window %} target="_blank" {% endif %}
                          >
                            {{ block.settings.see_more_title }}
                            <span class="block w-5 h-5{% if is_rtl %} rotate-180{% endif %}">{% render 'icon-alls', icon: 'icon-arrow' %}</span>
                          </a>
                        </div>
                      </div>
                    </div>
                  {% endif %}
                {%- endif -%}
              </li>
            {%- endfor -%}
          </ul>
        </div>
      </div>
    </div>
  {%- when 'simple_menu'-%}
    {%- liquid 
      assign image_count = 0
      if block.settings.image_1 != blank
        assign image_count = image_count | plus: 1
      endif
      if block.settings.image_2 != blank
        assign image_count = image_count | plus: 1
      endif
      if block.settings.image_3 != blank
        assign image_count = image_count | plus: 1
      endif
      assign class_menu_width = 'w-full'
      if image_count > 0
        assign class_image_width = 'w-1/5'
        assign class_menu_width = 'w-4/5'
        if block.settings.promotion_layout == 'horizontal'
          if image_count >= 2
            assign class_image_width = 'w-1/2'
            assign class_menu_width = 'w-1/2'
          endif
        endif
      endif
    -%}
    <div class="toggle-menu mega-menu-horizontal{% if image_count > 0 %} main-nav-child-{{ block.settings.promotion_position }}{% endif %} max-h-0 transition-all duration-300 delay-150 ease-in-out is-focus:text-[rgba(var(--colors-text))] absolute w-full background-header left-0 z-50 shadow-md opacity-0 overflow-hidden ltr">
      <div class="mega-menu-container page-width mx-auto{% if image_count > 0 %} flex promotion-{{ block.settings.promotion_layout }} image-count-{{ image_count }}{% endif %}">
        {%- if block.settings.menu != blank -%}
          <ul class="mega-nav scrollbar-body scrollbar-visible flex-wrap relative gap-5 xl:gap-8 flex pt-8 pb-8 flex-row z-50 left-0 right-0 {{ class_menu_width }} top-full{% if is_rtl %} rtl{% endif %}">
            {%- for childlink in block.settings.menu.links -%}
              <li class="relative w-24 lg:w-48">
                <div>
                  {%- render 'menu-item-image', link: childlink, show_image_collection: block.settings.show_image_collection, show_first_image_product: block.settings.show_first_image_product, image_ratio: block.settings.image_ratio, column: column, collection_metafield: block.settings.collection_metafield -%}
                  <a href="{{ childlink.url }}" class="nav-link relative transition duration-200 p-break-words hover-text-link{% if childlink.current %} flex border-b effect-inline{% else %} inline-block{%- endif -%}{% if childlink.links != blank %} mb-3{% endif %}">
                    {{ childlink.title | escape }}
                  </a>
                </div>
                {%- if childlink.links != blank -%}
                  <ul class="list-unstyled{% if is_rtl %} rtl{% endif %}" role="list">
                    {%- for grandchildlink in childlink.links -%}
                      <li class="flex items-center pt-1.5 pb-1.5 relative font-normal">
                        {%- render 'menu-item-image', link: grandchildlink, show_image_collection: block.settings.show_sub_image_collection, show_first_image_product: block.settings.show_sub_first_image_product, class_ratio: class_image_ratio, image_left: true, collection_metafield: block.settings.collection_metafield -%}
                        <span class="flex-1">
                          <a href="{{ grandchildlink.url }}" class="nav-link relative transition duration-200 p-break-words hover-text-link{% if grandchildlink.current %} flex effect-inline border-b{% else %} inline-block{% endif %}">
                            {{ grandchildlink.title | escape }}
                          </a>
                        </span>
                      </li>
                    {%- endfor -%}
                  </ul>
                {%- endif -%}
              </li>
            {%- endfor -%}
          </ul>
        {%- endif -%}
        {%- if image_count > 0 -%}
          <div class="relative float-right md:right-5 lg:right-0 pt-8 pb-8 {{ class_image_width }}"> 
            <div class="mega-nav-promotions scrollbar-body scrollbar-visible overflow-y-auto{% if block.settings.promotion_layout == 'horizontal' %} flex gap-5{% else %} flex flex-col gap-3{% endif %}">
              {%- if block.settings.image_1 -%}
                {% style %}
                  .image-{{ block.id }}-1 {
                    height: {{ block.settings.image_height_1 }}px;
                  }
                {% endstyle %}
                {% assign blockID = block.id | append: "-1" %}
                <div class="w-full group relative{% unless block.settings.enable_text_overlay_1 %} background-color-{{ blockID }}{% endunless %}{% if block.settings.promotion_position == 'right' %} ltr{% endif %}{% if settings.edges_type == 'rounded_corners' %} rounded-[10px]{% endif %}">
                  {% render 'promotion-image',
                    blockID: blockID,
                    image: block.settings.image_1,
                    enable_text_overlay: block.settings.enable_text_overlay_1,
                    heading: block.settings.heading_1,
                    content: block.settings.text_1,
                    button_label: block.settings.button_label_1,
                    button_link: block.settings.button_link_1,
                    open_new_window: block.settings.open_new_window_button_1,
                    content_alignment: 'center',
                    full_width: false,
                    overlay_opacity: block.settings.overlay_opacity_1,
                    show_button_style: block.settings.show_button_style_1,
                    background_color: block.settings.background_color,
                    color_text: block.settings.color_text,
                    color_button: block.settings.color_button,
                    color_text_button: block.settings.color_text_button,
                    color_button_hover: block.settings.color_button_hover,
                    color_text_button_hover: block.settings.color_text_button_hover,
                    color_button_secondary: block.settings.color_button_secondary,
                    secondary_button_text: block.settings.secondary_button_text,
                    colors_text_link: block.settings.colors_text_link,
                    heading_size: block.settings.heading_size_1,
                    text_size: block.settings.text_size_1,
                    content_position: block.settings.content_position_1,
                    columns_desktop: 4,
                    show_in_header: true
                  %}
                </div>
              {%- endif -%} 
              {%- if block.settings.image_2 -%}
                {% style %}
                  .image-{{ block.id }}-2 {
                    height: {{ block.settings.image_height_2 }}px;
                  }
                {% endstyle %}
                {% assign blockID = block.id | append: "-2" %}
                <div class="w-full group relative{% unless block.settings.enable_text_overlay_2 %} background-color-{{ blockID }}{% endunless %}{% if block.settings.promotion_position == 'right' %} ltr{% endif %}{% if settings.edges_type == 'rounded_corners' %} rounded-[10px]{% endif %}">
                  {% render 'promotion-image',
                    blockID: blockID,
                    image: block.settings.image_2,
                    enable_text_overlay: block.settings.enable_text_overlay_2,
                    heading: block.settings.heading_2,
                    content: block.settings.text_2,
                    button_label: block.settings.button_label_2,
                    button_link: block.settings.button_link_2,
                    open_new_window: block.settings.open_new_window_button_2,
                    content_alignment: 'center',
                    full_width: false,
                    overlay_opacity: block.settings.overlay_opacity_2,
                    show_button_style: block.settings.show_button_style_2,
                    background_color: block.settings.background_color,
                    color_text: block.settings.color_text,
                    color_button: block.settings.color_button,
                    color_text_button: block.settings.color_text_button,
                    color_button_hover: block.settings.color_button_hover,
                    color_text_button_hover: block.settings.color_text_button_hover,
                    color_button_secondary: block.settings.color_button_secondary,
                    secondary_button_text: block.settings.secondary_button_text,
                    heading_size: block.settings.heading_size_2,
                    text_size: block.settings.text_size_2,
                    content_position: block.settings.content_position_2,
                    columns_desktop: 4,
                    show_in_header: true
                  %}
                </div>
              {%- endif -%} 
              {%- if block.settings.image_3 -%}
                {% style %}
                  .image-{{ block.id }}-3 {
                    height: {{ block.settings.image_height_3 }}px;
                  }
                {% endstyle %}
                {% assign blockID = block.id | append: "-3" %}
                <div class="w-full group relative{% unless block.settings.enable_text_overlay_3 %} background-color-{{ blockID }}{% endunless %}{% if block.settings.promotion_position == 'right' %} ltr{% endif %}{% if settings.edges_type == 'rounded_corners' %} rounded-[10px]{% endif %}">
                  {% render 'promotion-image',
                    blockID: blockID,
                    image: block.settings.image_3,
                    enable_text_overlay: block.settings.enable_text_overlay_3,
                    heading: block.settings.heading_3,
                    content: block.settings.text_3,
                    button_label: block.settings.button_label_3,
                    button_link: block.settings.button_link_3,
                    open_new_window: block.settings.open_new_window_button_3,
                    content_alignment: 'center',
                    full_width: false,
                    overlay_opacity: block.settings.overlay_opacity_3,
                    show_button_style: block.settings.show_button_style_3,
                    background_color: block.settings.background_color,
                    color_text: block.settings.color_text,
                    color_button: block.settings.color_button,
                    color_text_button: block.settings.color_text_button,
                    color_button_hover: block.settings.color_button_hover,
                    color_text_button_hover: block.settings.color_text_button_hover,
                    color_button_secondary: block.settings.color_button_secondary,
                    secondary_button_text: block.settings.secondary_button_text,
                    heading_size: block.settings.heading_size_3,
                    text_size: block.settings.text_size_3,
                    content_position: block.settings.content_position_3,
                    columns_desktop: 4,
                    show_in_header: true
                  %}
                </div>
              {%- endif -%} 
            </div>
          </div>
        {%- endif -%}
      </div>
      {% if block.settings.see_more_link != blank and block.settings.see_more_title != blank %}
        <div class="page-width">
          <div class="see-more border-t py-4 mt-2 hidden md:flex justify-{{ block.settings.see_more_alignment }} ltr">
            <a href="{{ block.settings.see_more_link }}" class="hover-text-link nav-link relative w-fit flex gap-1{% if is_rtl %} rtl{% endif %}"
              {% if block.settings.see_more_open_new_window %} target="_blank" {% endif %}
            >
              {{ block.settings.see_more_title }}
              <span class="block w-5 h-5{% if is_rtl %} rotate-180{% endif %}">{% render 'icon-alls', icon: 'icon-arrow' %}</span>
            </a>
          </div>
        </div>
      {% endif %}
    </div>
  {%- when 'blog_menu' -%}
    <div class="toggle-menu max-h-0 transition-all duration-300 delay-150 ease-in-out is-focus:text-[rgba(var(--colors-text))] absolute w-full background-header left-0 z-50 shadow-md opacity-0 overflow-hidden">
      <div class="page-width blog-position-{{ block.settings.position }}{% if blog and blog.articles_count > 0 or is_link %} flex gap-x-3{% endif %} mx-auto ltr">
        {%- if is_link -%}
          <div class="pt-8 pb-5">
            {% if block.settings.heading_menu != blank %}
              <div class="blog-other-title{% if is_rtl %} rtl{% endif %}">
                <p class="table relative w-[15.6rem] pt-1 pb-3 border-b uppercase text-normal opacity-70">
                  {{ block.settings.heading_menu }}
                </p>
              </div>
            {% endif %}
            <ul class="list-blog-menu{% if block.settings.heading_menu != blank %} pt-2{% endif %} overflow-x-hidden scrollbar-body scrollbar-visible overflow-y-auto"> 
              {%- for link in block.settings.menu.links -%}
                <li 
                  class="table{% if link.links != blank %} has-dropdown{% endif %}{% if is_rtl %} rtl{% endif %}"
                  x-on:mouseover="$store.xHeaderMenu.selectItem($el, true); $el.classList.add('is-focus-child');"
                  @mouseleave="$el.classList.remove('is-focus-child');"
                  @focusin="$store.xHeaderMenu.selectItem($el, true); $el.classList.add('is-focus-child');"
                  @focusout="$el.classList.remove('is-focus-child');"
                  {%- if link.current or link.child_active %}x-init="active = true;"{% endif %}
                >
                  <div class="sub-menu z-10 relative mb-2 w-[15.6rem] pt-1 pb-1">
                    <a
                      href="{{ link.url }}"
                      class="nav-link p-break-words relative z-10 pb-1 hover-text-link is-focus-child:effect-inline{%- if link.current %} effect-inline{% endif %}"
                      x-init="$store.xHeaderMenu.isTouch && $store.xHeaderMenu.touchItem($el, true)"
                    >
                      <span class="p-break-words">{{ link.title | escape }}</span>
                    </a>
                  </div>
                </li>
              {%- endfor -%}
            </ul>
          </div>
        {%- endif -%}
        {% assign post_limit = block.settings.rows_desktop | times: block.settings.columns_desktop %}
        {% if blog %}
          <div class="pt-8 pb-11 grow">
            <p class=" {% if is_link %}blog-menu-title{% endif %} relative pt-1 pb-3 uppercase text-normal opacity-70{% if is_rtl %} rtl{% endif %}">{% if block.settings.heading_post != blank %}{{ block.settings.heading_post }}{% else %}{{ 'blogs.recent_posts' | t }}{% endif %}</p>
            <div class="blog-posts-menu{% if is_link %} list-blog{% endif %} overflow-x-hidden scrollbar-body scrollbar-visible overflow-y-auto">
              <div class="grid grid-cols-{{ block.settings.columns_desktop }} md:gap-x-8 pb-1" {% if is_rtl %} style="direction: rtl"{% endif %}>
                {%- for article in blog.articles limit: post_limit -%}
                  {% liquid
                    assign image_desktop_top = false
                    if forloop.index <= block.settings.columns_desktop and block.settings.enable_featured_post
                      assign image_desktop_top = true
                    endif
                  %}
                  {%- render 'article-card',
                    article: article,
                    index: forloop.index,
                    columns_desktop: block.settings.columns_desktop,
                    columns_mobile: "2",
                    blog_header: true,
                    image_desktop_top: image_desktop_top,
                    class_margin: '',
                    image_ratio: block.settings.image_ratio,
                    show_image: block.settings.show_image, 
                    show_excerpt: block.settings.show_excerpt,
                    show_in_header: true
                  -%}
                {%- endfor -%}
              </div>
              {% if block.settings.see_more_link != blank and block.settings.see_more_title != blank %}
                <span class="see-more border-t py-4 hidden md:flex justify-{{ block.settings.see_more_alignment }} ltr">
                  <a href="{{ block.settings.see_more_link }}" class="hover-text-link nav-link relative w-fit flex gap-1 {% if is_rtl %} rtl{% endif %}"
                    {% if block.settings.see_more_open_new_window %} target="_blank" {% endif %}
                  >
                    {{ block.settings.see_more_title }}
                    <span class="block w-5 h-5{% if is_rtl %} rotate-180{% endif %}">{% render 'icon-alls', icon: 'icon-arrow' %}</span>
                  </a>
                </span>
              {% endif %}
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  {%- when 'contact_menu' -%}
    <div class="toggle-menu max-h-0 transition-all duration-300 delay-150 ease-in-out is-focus:text-[rgba(var(--colors-text))] absolute w-full background-header left-0 z-50 shadow-md opacity-0 overflow-hidden">
      <div class="flex mx-auto page-width gap-x-7 pt-8 pb-11">
        <div class="overflow-hidden {{ class_map }}{% if settings.edges_type == 'rounded_corners' %} rounded-[10px]{% endif %}">
          {%- if block.settings.image != blank -%}
            {%- capture sizes -%}
              (min-width: {{ settings.page_width }}px) calc({{ settings.page_width | divided_by: 3 | plus: 200 }}px ), 
              (min-width: 768px) 50vw, 
              100vw
            {%- endcapture -%}
            {{ block.settings.image | image_url: width: 3000 | image_tag: loading: 'lazy', sizes: sizes, widths: '375, 450, 750, 900, 1100, 1500, 1780, 2000, 3000, 3840', class: 'w-full h-full object-center object-cover z-0 inset-0 image-hover' }} 
          {%- elsif block.settings.store_address != blank -%}
            <div x-data="xMap('{{ block.settings.store_address }}')" class="h-full" x-intersect.once.margin.250px="load()"> 
              <iframe src="" class="w-full h-full" title="Map"></iframe>
            </div>
          {%- else -%}
            <div class="flex items-center justify-center bg-[#c9c9c9] w-full h-full">
              {% render 'icon-placeholder', icon: 'icon-location-map', class: 'w-20 h-20 md:h-auto md:w-auto' %}
            </div>
          {%- endif -%}
        </div>
        <div class="{{ class_form }}">
          {%- if block.settings.contact_heading != blank -%}
            <h2 class="text-large leading-tight">
              {{ block.settings.contact_heading | escape }}
            </h2>
          {%- endif -%}
          {% if block.settings.infomation != blank %}
            <div class="rte mt-3 font-normal">
              {{ block.settings.infomation }}
            </div>
          {% endif %}
          {% assign formID = "contact-form-" | append: block.id %}
          {%- form 'contact', id: formID, class: 'eurus' -%}
            <div class="contact__fields font-normal{% if block.settings.infomation != blank %} mt-8{% else %} mt-6{% endif %}">
              <div class="flex gap-x-3.5">
                <div class="mb-3 flex-1 relative">
                  <input
                    type="text"
                    id="ContactFormName-{{ section.id }}"
                    class="w-full pl-5 pr-5 lg:pl-6 lg:pr-6 pt-4 pb-1.5 border focus:outline-none focus:border-current input bg-transparent placeholder:opacity-0{% if settings.edges_type == 'rounded_corners' %} !rounded-md{% endif %}"
                    name="contact[{%- if block.settings.heading != blank -%}{{ block.settings.heading }}{%- else -%}name{% endif %}]"
                    value="{% if form.name %}{{ form.name }}{% elsif customer %}{{ customer.name }}{% endif %}"
                    autocapitalize="words" 
                    placeholder="{{ 'customer.name' | t }}"
                    {% if block.settings.mark_as_required %}
                      required
                    {% endif %}>
                  <label class="leading-tight absolute top-1/2{% if is_rtl %} right-5 lg:right-6{% else %} left-5 lg:left-6{% endif %} -translate-y-1/2 input_focus:text-xs input_focus:top-2.5 input_not_empty:top-2.5 input_not_empty:text-xs" for="ContactFormName-{{ section.id }}">
                    {{ 'customer.name' | t }}
                    {% if block.settings.mark_as_required %}
                      <span aria-hidden="true">*</span>
                    {%- endif %}
                  </label>
                </div>
                <div class="mb-3 flex-1 relative"> 
                  <input
                    type="email"
                    id="ContactFormEmail-{{ section.id }}"
                    class="w-full border pl-5 pr-5 lg:pl-6 lg:pr-6 pt-4 pb-1.5 focus:outline-none focus:border-current input bg-transparent placeholder:opacity-0{% if settings.edges_type == 'rounded_corners' %} !rounded-md{% endif %}"
                    name="contact[email]"
                    autocomplete="email"
                    autocapitalize="off"
                    autocorrect="off"
                    value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}" 
                    placeholder="{{ 'customer.email' | t }}"
                    required>
                    <label 
                      class="leading-tight absolute top-1/2{% if is_rtl %} right-5 lg:right-6{% else %} left-5 lg:left-6{% endif %} -translate-y-1/2 input_focus:text-xs input_focus:top-2.5 input_not_empty:top-2.5 input_not_empty:text-xs" 
                      for="ContactFormEmail-{{ section.id }}"
                    >
                      {{ 'customer.email' | t }}
                      <span aria-hidden="true">*</span>
                    </label>
                </div>
              </div>
              <div class="mb-3 relative">
                <input
                  type="tel"
                  id="ContactFormPhone-{{ section.id }}"
                  class="border w-full pl-5 pr-5 lg:pl-6 lg:pr-6 pt-4 pb-1.5 focus:outline-none focus:border-current input bg-transparent placeholder:opacity-0{% if settings.edges_type == 'rounded_corners' %} !rounded-md{% endif %}{% if is_rtl %} rtl{% endif %}"
                  name="contact[{%- if block.settings.heading != blank -%}{{ block.settings.heading }}{%- else -%}phone{% endif %}]"
                  pattern="[0-9\-]*"
                  value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}" 
                  placeholder="{{ 'customer.email' | t }}"
                  {% if block.settings.mark_as_required -%}
                    required
                  {%- endif -%}>
                  <label 
                    class="absolute top-1/2{% if is_rtl %} right-5 lg:right-6{% else %} left-5 lg:left-6{% endif %} -translate-y-1/2 input_focus:text-xs input_focus:top-2.5 input_not_empty:top-2.5 input_not_empty:text-xs" 
                    for="ContactFormPhone-{{ section.id }}"
                  >
                    {{ 'templates.contact.form.phone' | t }}
                    {% if block.settings.mark_as_required %}
                      <span aria-hidden="true">*</span>
                    {%- endif -%}
                  </label>
              </div>
              <div class="mb-2 md:mb-3 relative"> 
                <textarea
                  id="ContactFormMessage-{{ section.id }}"
                  class="w-full pl-5 pr-5 lg:pl-6 lg:pr-6 pt-5 pb-1.5 border focus:outline-none focus:border-current input bg-transparent placeholder:opacity-0{% if settings.edges_type == 'rounded_corners' %} !rounded-md{% endif %}"
                  rows="4"
                  name="contact[{%- if block.settings.heading != blank -%}{{ block.settings.heading }}{%- else -%}message{% endif %}]" 
                  placeholder="{{ 'customer.email' | t }}"
                  {% if block.settings.mark_as_required %}
                    required
                  {% endif %}>
                  {{- form.message -}}
                </textarea>
                <label 
                  class="absolute top-3 md:top-4{% if is_rtl %} right-5 lg:right-6{% else %} left-5 lg:left-6{% endif %} input_focus:text-xs input_focus:top-1 input_not_empty:top-1 input_not_empty:text-xs" 
                  for="ContactFormMessage-{{ section.id }}"
                >
                  {{ 'templates.contact.form.message' | t }}
                  {% if block.settings.mark_as_required %}
                    <span aria-hidden="true">*</span>
                  {%- endif -%}
                </label>
              </div>
            </div>
            <div class="{% if is_rtl %} text-left{% else %} text-right{% endif %} mt-2.5">
              <button type="submit" class="button button-solid leading-normal pl-8 pr-8 pt-2.5 pb-2.5 lg:pt-3 lg:pb-3 cursor-pointer empty:hidden pointer-events-auto">
                {%- if section.settings.button_label != blank -%}
                  {% assign button_label = section.settings.button_label %}
                {%- else -%}
                  {% assign button_label = 'templates.contact.form.send' | t %}
                {%- endif -%}
                {% render 'button-label', button_label: button_label, show_button_style: 'primary' %}
              </button>
            </div>
          {%- endform -%}
        </div>
        {% if block.settings.show_contact_information %}
          <div class="contact-infomation {{ class_infomation }}">
            {%- if block.settings.heading_information != blank -%}
              <h2 class="text-large leading-tight">
                {{ block.settings.heading_information | escape }}
              </h2>
            {%- endif -%}
            {% if block.settings.subheading != blank %}
              <div class="rte mt-3 font-normal">
                {{ block.settings.subheading }}
              </div>
            {% endif %}
            <ul class="flex gap-y-6 flex-col{% if block.settings.heading != blank %} mt-4{% endif %} pb-9 font-normal">
              {% if block.settings.store_address != blank %}
                <li class="rte relative flex items-center">
                  <span class="w-5{% if is_rtl %} ml-4 right-0{% else %} mr-4 left-0{% endif %} absolute top-1/2 -translate-y-1/2">{%- render 'icon-alls', icon: 'icon-location' -%}</span>
                  <span class="{% if is_rtl %} pr-8{% else %} pl-8{% endif %} pt-0.5">{{ block.settings.store_address }}</span>
                </li>
              {% endif %}
              {% if block.settings.phone_nummber != blank %}
                <li class="rte relative flex items-center">
                  <span class="w-5{% if is_rtl %} ml-4 right-0{% else %} mr-4 left-0{% endif %} absolute top-1/2 -translate-y-1/2">{%- render 'icon-alls', icon: 'icon-phone' -%}</span>
                  <span class="{% if is_rtl %} pr-8{% else %} pl-8{% endif %} pt-0.5">{{ block.settings.phone_nummber }}</span>
                </li>
              {% endif %}
              {% if block.settings.email_address != blank %}
                <li class="rte relative flex items-center">
                  <span class="w-5{% if is_rtl %} ml-4 right-0{% else %} mr-4 left-0{% endif %} absolute top-1/2 -translate-y-1/2">{%- render 'icon-alls', icon: 'icon-email' -%}</span>
                  <span class="{% if is_rtl %} pr-8{% else %} pl-8{% endif %} pt-0.5">{{ block.settings.email_address }}</span>
                </li>
              {% endif %}
            </ul>
            {% if block.settings.contact_text != blank or block.settings.enable_social_icon %}
              <div class="pt-6 border-t font-normal">
                {% if block.settings.contact_text != blank %}
                  <div class="rte mb-3">
                    {{ block.settings.contact_text }}
                  </div>
                {% endif %}
                {% if block.settings.enable_social_icon %}
                  <ul class="-ml-4 -mr-3 flex flex-wrap">
                    {%- render 'social-icons' -%}
                  </ul>
                {% endif %}
              </div>
            {% endif %}
          </div>
        {% endif %}
      </div>
    </div>
{%- endcase -%}
